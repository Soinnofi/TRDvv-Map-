<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRDvv Map - Живая динамическая карта планеты</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/simplex-noise@2.4.0/simplex-noise.js"></script>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-globe-americas"></i> TRDvv Map</h1>
            <p class="subtitle">Живая динамическая карта планеты с меняющейся погодой и ландшафтом</p>
        </header>

        <div class="view-toggle">
            <div class="view-btn active" id="view2DBtn">
                <i class="fas fa-map"></i> 2D Карта
            </div>
            <div class="view-btn" id="view3DBtn">
                <i class="fas fa-globe"></i> 3D Глобус
            </div>
        </div>

        <div class="main-content">
            <div class="map-container">
                <canvas id="mapCanvas"></canvas>
                <div id="globeContainer" class="hidden"></div>
                <div id="loading" class="loading hidden">
                    <i class="fas fa-spinner fa-spin"></i> Генерация карты...
                </div>
                <div class="time-display">
                    <i class="fas fa-clock"></i> Время: <span id="currentTime">0</span> лет
                    <div class="simulation-speed">
                        <i class="fas fa-tachometer-alt"></i> Скорость: 
                        <select id="speedSelect">
                            <option value="100">Медленно</option>
                            <option value="50" selected>Нормально</option>
                            <option value="20">Быстро</option>
                            <option value="10">Очень быстро</option>
                            <option value="5">Максимально</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="controls-panel">
                <div class="control-section">
                    <h2><i class="fas fa-cogs"></i> Настройки мира</h2>
                    
                    <div class="input-group">
                        <label for="seedInput">SEED мира:</label>
                        <input type="text" id="seedInput" value="TRDvvDynamicMap">
                    </div>
                    
                    <div class="button-group">
                        <button id="generateBtn">
                            <i class="fas fa-sync-alt"></i> Новая генерация
                        </button>
                        <button id="pauseBtn">
                            <i class="fas fa-pause"></i> Пауза
                        </button>
                    </div>
                    
                    <div class="input-group">
                        <label for="detailLevel">Детализация:</label>
                        <input type="range" id="detailLevel" min="1" max="10" value="6">
                    </div>
                </div>

                <div class="control-section">
                    <h2><i class="fas fa-palette"></i> Стиль планеты</h2>
                    <div class="planet-styles">
                        <div class="planet-style-btn earth-style active" data-style="earth">
                            <i class="fas fa-water"></i> Земная
                        </div>
                        <div class="planet-style-btn rocky-style" data-style="rocky">
                            <i class="fas fa-mountain"></i> Каменистая
                        </div>
                        <div class="planet-style-btn mars-style" data-style="mars">
                            <i class="fas fa-fire"></i> Марсианская
                        </div>
                        <div class="planet-style-btn gas-style" data-style="gas">
                            <i class="fas fa-wind"></i> Газовая
                        </div>
                    </div>
                </div>

                <div class="control-section">
                    <h2><i class="fas fa-layer-group"></i> Тип карты</h2>
                    <div class="map-types">
                        <div class="map-type-btn active" data-type="height">Рельеф</div>
                        <div class="map-type-btn" data-type="temperature">Температура</div>
                        <div class="map-type-btn" data-type="moisture">Влажность</div>
                        <div class="map-type-btn" data-type="wind">Ветер</div>
                        <div class="map-type-btn" data-type="clouds">Облака</div>
                        <div class="map-type-btn" data-type="precipitation">Осадки</div>
                        <div class="map-type-btn" data-type="biome">Биом</div>
                        <div class="map-type-btn" data-type="plates">Тектонические плиты</div>
                    </div>
                </div>

                <div class="control-section">
                    <h2><i class="fas fa-adjust"></i> Процессы</h2>
                    
                    <div class="toggle-container">
                        <span>Эрозия:</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="erosionToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="toggle-container">
                        <span>Тектоника плит:</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="tectonicsToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="toggle-container">
                        <span>Климат:</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="climateToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="toggle-container">
                        <span>Ночной режим:</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="nightToggle">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>

                <div class="legend" id="legend">
                    <h3><i class="fas fa-key"></i> Легенда</h3>
                    <div id="legendContent">
                        <!-- Динамически заполняется -->
                    </div>
                </div>
            </div>
        </div>

        <div class="stats-panel">
            <div class="stat-item">
                <i class="fas fa-mountain"></i>
                <span>Высота: <span id="statHeight">0</span> м</span>
            </div>
            <div class="stat-item">
                <i class="fas fa-thermometer-half"></i>
                <span>Температура: <span id="statTemp">0</span>°C</span>
            </div>
            <div class="stat-item">
                <i class="fas fa-tint"></i>
                <span>Влажность: <span id="statMoisture">0</span>%</span>
            </div>
            <div class="stat-item">
                <i class="fas fa-cloud"></i>
                <span>Облачность: <span id="statClouds">0</span>%</span>
            </div>
            <div class="stat-item">
                <i class="fas fa-wind"></i>
                <span>Ветер: <span id="statWind">0</span> м/с</span>
            </div>
        </div>

        <div class="footer">
            <p>TRDvv Map - Живая динамическая карта планеты | Автоматическая генерация и эволюция мира</p>
            <p>Карта постоянно меняется: растут горы, движутся плиты, меняется климат</p>
        </div>
    </div>

    <script type="module" src="js/app.js"></script>
</body>
</html>
